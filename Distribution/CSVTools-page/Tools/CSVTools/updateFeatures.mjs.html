<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formatted Code - JavaScript</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Courier New', Courier, monospace;
            background: #ffffff;
            padding: 3rem;
            color: #000000;
            line-height: 1.6;
            font-size: 12pt;
            font-weight: bold;
            font-style: normal;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: #ffffff;
        }

        .code-container {
            background: #ffffff;
            padding: 0;
        }

        .code-line {
            white-space: pre-wrap;
            word-wrap: break-word;
            margin-bottom: 0.1rem;
        }

        .comment {
            color: #228b22;
            font-size: 11pt;
            font-family: 'Bookman Old Style', serif;
            font-weight: normal;
            font-style: normal;
        }

        .keyword {
            color: #0000ff;
            font-weight: 600;
        }

        .string {
            color: #a31515;
        }

        .number {
            color: #098658;
        }

        .function {
            color: #795e26;
        }

        .operator {
            color: #000000;
        }

        .type {
            color: #267f99;
        }

        .variable {
            color: #001080;
        }

        @media print {
            body {
                padding: 1rem;
            }

            .code-container {
                border: none;
                padding: 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="code-container">
            <div class="code-line"><span class="comment">UPDATEFEATURES.MJS - Feature Synopsis Generator for CSV Project Map</span></div>
            <div class="code-line"><span class="keyword">import</span><span class="operator"> </span><span class="variable">fs</span><span class="operator"> </span><span class="keyword">from</span><span class="operator"> </span><span class="string">&#039;node:fs/promises&#039;</span><span class="operator">;</span></div>
            <div class="code-line"><span class="keyword">import</span><span class="operator"> </span><span class="variable">path</span><span class="operator"> </span><span class="keyword">from</span><span class="operator"> </span><span class="string">&#039;node:path&#039;</span><span class="operator">;</span></div>
            <div class="code-line"><span class="keyword">import</span><span class="operator"> </span><span class="operator">{</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="variable">loadCsvTable</span><span class="operator">,</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="variable">writeCsvTable</span><span class="operator">,</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="variable">ensureColumn</span><span class="operator">,</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="variable">createValueAccessor</span><span class="operator">,</span></div>
            <div class="code-line"><span class="operator">}</span><span class="operator"> </span><span class="keyword">from</span><span class="operator"> </span><span class="string">&#039;./lib/table-helpers.mjs&#039;</span><span class="operator">;</span></div>
            <div class="code-line"></div>
            <div class="code-line"><span class="comment">==========================================================================================</span></div>
            <div class="code-line"><span class="comment">SECTION 1: GLOBAL CONFIGURATION</span></div>
            <div class="code-line"><span class="comment">==========================================================================================</span></div>
            <div class="code-line">&nbsp;</div>
            <div class="code-line"><span class="comment">Optional CSV path override from environment variable for flexible file locations</span></div>
            <div class="code-line"><span class="keyword">const</span><span class="operator"> </span><span class="variable">csvOverride</span><span class="operator"> </span><span class="operator">=</span><span class="operator"> </span><span class="variable">process</span><span class="operator">.</span><span class="variable">env</span><span class="operator">.</span><span class="type">CSV_PROJECT_MAP_PATH</span><span class="operator"> </span><span class="operator">?</span><span class="operator">?</span><span class="operator"> </span><span class="string">&#039;&#039;</span><span class="operator">;</span></div>
            <div class="code-line"><span class="comment">Workspace root directory for resolving relative file paths</span></div>
            <div class="code-line"><span class="keyword">const</span><span class="operator"> </span><span class="variable">workspaceRoot</span><span class="operator"> </span><span class="operator">=</span><span class="operator"> </span><span class="variable">process</span><span class="operator">.</span><span class="function">cwd</span><span class="operator">(</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"></div>
            <div class="code-line"><span class="comment">==========================================================================================</span></div>
            <div class="code-line"><span class="comment">SECTION 2: MAIN PROCESSING LOGIC</span></div>
            <div class="code-line"><span class="comment">==========================================================================================</span></div>
            <div class="code-line">&nbsp;</div>
            <div class="code-line"><span class="comment">main</span></div>
            <div class="code-line">&nbsp;</div>
            <div class="code-line"><span class="comment">Purpose: Generate refreshed feature synopses for each file entry tracked in the project</span></div>
            <div class="code-line"><span class="comment">map CSV. Behavior: - Loads the CSV, ensures the FEATURES column exists, and iterates over</span></div>
            <div class="code-line"><span class="comment">every file row. - Collects SUMMARY, FUNCTIONS, DATA FLOW, IO, SIDE EFFECTS, and comment</span></div>
            <div class="code-line"><span class="comment">snippets to build descriptions. - Writes the CSV back to disk when at least one synopsis</span></div>
            <div class="code-line"><span class="comment">differs from the stored value. Delegation: - loadCsvTable, writeCsvTable, ensureColumn,</span></div>
            <div class="code-line"><span class="comment">createValueAccessor manage CSV interactions. - buildFeatureSynopsis converts collected</span></div>
            <div class="code-line"><span class="comment">metadata into the formatted output string. Parameters: None Returns: Promise&lt;void&gt; Key</span></div>
            <div class="code-line"><span class="comment">Features: - Produces summaries resembling `FeatureName -&gt; Descriptor [Tag1, Tag2]`. -</span></div>
            <div class="code-line"><span class="comment">Emits console diagnostics and skips redundant writes when no changes are detected.</span></div>
            <div class="code-line"><span class="keyword">async</span><span class="operator"> </span><span class="keyword">function</span><span class="operator"> </span><span class="function">main</span><span class="operator">(</span><span class="operator">)</span><span class="operator"> </span><span class="operator">{</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="variable">console</span><span class="operator">.</span><span class="function">log</span><span class="operator">(</span><span class="string">&#039;============================================================&#039;</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="variable">console</span><span class="operator">.</span><span class="function">log</span><span class="operator">(</span><span class="string">&#039;Feature Synopsis Extraction (Column FEATURES)&#039;</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="variable">console</span><span class="operator">.</span><span class="function">log</span><span class="operator">(</span><span class="string">&#039;============================================================\n&#039;</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="comment">Load CSV data using helper function that handles parsing and column mapping</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">const</span><span class="operator"> </span><span class="operator">{</span><span class="operator"> </span><span class="variable">csvPath</span><span class="operator">,</span><span class="operator"> </span><span class="variable">headers</span><span class="operator">,</span><span class="operator"> </span><span class="variable">rows</span><span class="operator"> </span><span class="operator">}</span><span class="operator"> </span><span class="operator">=</span><span class="operator"> </span><span class="keyword">await</span><span class="operator"> </span><span class="function">loadCsvTable</span><span class="operator">(</span><span class="variable">csvOverride</span><span class="operator"> </span><span class="operator">|</span><span class="operator">|</span><span class="operator"> </span><span class="keyword">undefined</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="comment">Locate TYPE column which indicates if row is a file or folder</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">const</span><span class="operator"> </span><span class="variable">typeIndex</span><span class="operator"> </span><span class="operator">=</span><span class="operator"> </span><span class="variable">headers</span><span class="operator">.</span><span class="function">findIndex</span><span class="operator">(</span><span class="operator">(</span><span class="variable">header</span><span class="operator">)</span><span class="operator"> </span><span class="operator">=</span><span class="operator">&gt;</span><span class="operator"> </span><span class="variable">header</span><span class="operator">.</span><span class="function">trim</span><span class="operator">(</span><span class="operator">)</span><span class="operator">.</span><span class="function">toUpperCase</span><span class="operator">(</span><span class="operator">)</span><span class="operator"> </span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator"> </span><span class="string">&#039;TYPE&#039;</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">if</span><span class="operator"> </span><span class="operator">(</span><span class="variable">typeIndex</span><span class="operator"> </span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator"> </span><span class="operator">-</span><span class="number">1</span><span class="operator">)</span><span class="operator"> </span><span class="operator">{</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="keyword">throw</span><span class="operator"> </span><span class="keyword">new</span><span class="operator"> </span><span class="function">Error</span><span class="operator">(</span><span class="string">&#039;Unable to locate &quot;Type&quot; column in CSV header.&#039;</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator">}</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="comment">Ensure FEATURES column exists, creating it if necessary</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">const</span><span class="operator"> </span><span class="variable">featuresIndex</span><span class="operator"> </span><span class="operator">=</span><span class="operator"> </span><span class="function">ensureColumn</span><span class="operator">(</span><span class="variable">headers</span><span class="operator">,</span><span class="operator"> </span><span class="variable">rows</span><span class="operator">,</span><span class="operator"> </span><span class="string">&#039;FEATURES&#039;</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="comment">Create accessor function for safely reading column values by name</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">const</span><span class="operator"> </span><span class="variable">getValue</span><span class="operator"> </span><span class="operator">=</span><span class="operator"> </span><span class="function">createValueAccessor</span><span class="operator">(</span><span class="variable">headers</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="comment">Track number of rows that were actually updated</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">let</span><span class="operator"> </span><span class="variable">updated</span><span class="operator"> </span><span class="operator">=</span><span class="operator"> </span><span class="number">0</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="comment">Process each row in the CSV to generate feature synopses</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">for</span><span class="operator"> </span><span class="operator">(</span><span class="keyword">let</span><span class="operator"> </span><span class="variable">rowIndex</span><span class="operator"> </span><span class="operator">=</span><span class="operator"> </span><span class="number">0</span><span class="operator">;</span><span class="operator"> </span><span class="variable">rowIndex</span><span class="operator"> </span><span class="operator">&lt;</span><span class="operator"> </span><span class="variable">rows</span><span class="operator">.</span><span class="variable">length</span><span class="operator">;</span><span class="operator"> </span><span class="variable">rowIndex</span><span class="operator"> </span><span class="operator">+</span><span class="operator">=</span><span class="operator"> </span><span class="number">1</span><span class="operator">)</span><span class="operator"> </span><span class="operator">{</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="keyword">const</span><span class="operator"> </span><span class="variable">row</span><span class="operator"> </span><span class="operator">=</span><span class="operator"> </span><span class="variable">rows</span><span class="operator">[</span><span class="variable">rowIndex</span><span class="operator">]</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="keyword">if</span><span class="operator"> </span><span class="operator">(</span><span class="operator">!</span><span class="variable">row</span><span class="operator">)</span><span class="operator"> </span><span class="operator">{</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="keyword">continue</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator">}</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="comment">Extract and normalize type value to determine if this is a file row</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="keyword">const</span><span class="operator"> </span><span class="variable">typeValue</span><span class="operator"> </span><span class="operator">=</span><span class="operator"> </span><span class="operator">(</span><span class="variable">row</span><span class="operator">[</span><span class="variable">typeIndex</span><span class="operator">]</span><span class="operator"> </span><span class="operator">?</span><span class="operator">?</span><span class="operator"> </span><span class="string">&#039;&#039;</span><span class="operator">)</span><span class="operator">.</span><span class="function">trim</span><span class="operator">(</span><span class="operator">)</span><span class="operator">.</span><span class="function">toLowerCase</span><span class="operator">(</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="comment">Skip folders and invalid rows - only process actual files</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="keyword">if</span><span class="operator"> </span><span class="operator">(</span><span class="operator">!</span><span class="function">isFileRow</span><span class="operator">(</span><span class="variable">typeValue</span><span class="operator">)</span><span class="operator">)</span><span class="operator"> </span><span class="operator">{</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="keyword">continue</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator">}</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="comment">Build relative file path from CSV columns (path segments before TYPE column)</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="keyword">const</span><span class="operator"> </span><span class="variable">relativePath</span><span class="operator"> </span><span class="operator">=</span><span class="operator"> </span><span class="function">buildRelativePath</span><span class="operator">(</span><span class="variable">row</span><span class="operator">,</span><span class="operator"> </span><span class="variable">typeIndex</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="keyword">if</span><span class="operator"> </span><span class="operator">(</span><span class="operator">!</span><span class="variable">relativePath</span><span class="operator">)</span><span class="operator"> </span><span class="operator">{</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="keyword">continue</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator">}</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="comment">Convert to absolute path for file system access</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="keyword">const</span><span class="operator"> </span><span class="variable">absolutePath</span><span class="operator"> </span><span class="operator">=</span><span class="operator"> </span><span class="variable">path</span><span class="operator">.</span><span class="function">join</span><span class="operator">(</span><span class="variable">workspaceRoot</span><span class="operator">,</span><span class="operator"> </span><span class="variable">relativePath</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="comment">Extract file extension to determine comment syntax and tagging</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="keyword">const</span><span class="operator"> </span><span class="variable">fileExt</span><span class="operator"> </span><span class="operator">=</span><span class="operator"> </span><span class="variable">path</span><span class="operator">.</span><span class="function">extname</span><span class="operator">(</span><span class="variable">relativePath</span><span class="operator">)</span><span class="operator">.</span><span class="function">toLowerCase</span><span class="operator">(</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="comment">Skip binary/image files that don&#039;t contain useful feature information</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="keyword">if</span><span class="operator"> </span><span class="operator">(</span><span class="function">shouldSkipFeatureExtraction</span><span class="operator">(</span><span class="variable">fileExt</span><span class="operator">)</span><span class="operator">)</span><span class="operator"> </span><span class="operator">{</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="keyword">continue</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator">}</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="comment">Extract comment snippet from source file for additional context</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="comment">This captures file-level documentation that may not be in other columns</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="keyword">const</span><span class="operator"> </span><span class="variable">commentSnippet</span><span class="operator"> </span><span class="operator">=</span><span class="operator"> </span><span class="keyword">await</span><span class="operator"> </span><span class="function">extractCommentSnippet</span><span class="operator">(</span><span class="variable">absolutePath</span><span class="operator">,</span><span class="operator"> </span><span class="variable">fileExt</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="comment">Gather all metadata from relevant CSV columns</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="keyword">const</span><span class="operator"> </span><span class="variable">featureName</span><span class="operator"> </span><span class="operator">=</span><span class="operator"> </span><span class="function">extractFeatureName</span><span class="operator">(</span><span class="variable">row</span><span class="operator">,</span><span class="operator"> </span><span class="variable">typeIndex</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="keyword">const</span><span class="operator"> </span><span class="variable">summary</span><span class="operator"> </span><span class="operator">=</span><span class="operator"> </span><span class="function">getValue</span><span class="operator">(</span><span class="variable">row</span><span class="operator">,</span><span class="operator"> </span><span class="string">&#039;SUMMARY&#039;</span><span class="operator">)</span><span class="operator">.</span><span class="function">trim</span><span class="operator">(</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="keyword">const</span><span class="operator"> </span><span class="variable">functionsCell</span><span class="operator"> </span><span class="operator">=</span><span class="operator"> </span><span class="function">getValue</span><span class="operator">(</span><span class="variable">row</span><span class="operator">,</span><span class="operator"> </span><span class="string">&#039;FUNCTIONS&#039;</span><span class="operator">)</span><span class="operator">.</span><span class="function">trim</span><span class="operator">(</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="keyword">const</span><span class="operator"> </span><span class="variable">dataFlow</span><span class="operator"> </span><span class="operator">=</span><span class="operator"> </span><span class="function">getValue</span><span class="operator">(</span><span class="variable">row</span><span class="operator">,</span><span class="operator"> </span><span class="string">&#039;DATA FLOW / STATE MANAGEMENT&#039;</span><span class="operator">)</span><span class="operator">.</span><span class="function">trim</span><span class="operator">(</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="keyword">const</span><span class="operator"> </span><span class="variable">ioSummary</span><span class="operator"> </span><span class="operator">=</span><span class="operator"> </span><span class="function">getValue</span><span class="operator">(</span><span class="variable">row</span><span class="operator">,</span><span class="operator"> </span><span class="string">&#039;INPUT SOURCES / OUTPUT DESTINATIONS&#039;</span><span class="operator">)</span><span class="operator">.</span><span class="function">trim</span><span class="operator">(</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="keyword">const</span><span class="operator"> </span><span class="variable">sideEffects</span><span class="operator"> </span><span class="operator">=</span><span class="operator"> </span><span class="function">getValue</span><span class="operator">(</span><span class="variable">row</span><span class="operator">,</span><span class="operator"> </span><span class="string">&#039;SIDE EFFECTS&#039;</span><span class="operator">)</span><span class="operator">.</span><span class="function">trim</span><span class="operator">(</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="comment">Build comprehensive feature synopsis from all available metadata</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="comment">Combines human-readable description with categorization tags</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="keyword">const</span><span class="operator"> </span><span class="variable">nextValue</span><span class="operator"> </span><span class="operator">=</span><span class="operator"> </span><span class="function">buildFeatureSynopsis</span><span class="operator">(</span><span class="operator">{</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="variable">featureName</span><span class="operator">,</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="variable">summary</span><span class="operator">,</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="variable">functionsCell</span><span class="operator">,</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="variable">dataFlow</span><span class="operator">,</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="variable">ioSummary</span><span class="operator">,</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="variable">sideEffects</span><span class="operator">,</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="variable">fileExt</span><span class="operator">,</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="variable">commentSnippet</span><span class="operator">,</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator">}</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="comment">Check if synopsis has changed to avoid unnecessary writes</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="keyword">const</span><span class="operator"> </span><span class="variable">currentValue</span><span class="operator"> </span><span class="operator">=</span><span class="operator"> </span><span class="operator">(</span><span class="variable">row</span><span class="operator">[</span><span class="variable">featuresIndex</span><span class="operator">]</span><span class="operator"> </span><span class="operator">?</span><span class="operator">?</span><span class="operator"> </span><span class="string">&#039;&#039;</span><span class="operator">)</span><span class="operator">.</span><span class="function">trim</span><span class="operator">(</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="keyword">if</span><span class="operator"> </span><span class="operator">(</span><span class="variable">currentValue</span><span class="operator"> </span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator"> </span><span class="variable">nextValue</span><span class="operator">)</span><span class="operator"> </span><span class="operator">{</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="keyword">continue</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator">}</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="comment">Update row with new synopsis and increment counter</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="variable">row</span><span class="operator">[</span><span class="variable">featuresIndex</span><span class="operator">]</span><span class="operator"> </span><span class="operator">=</span><span class="operator"> </span><span class="variable">nextValue</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="variable">updated</span><span class="operator"> </span><span class="operator">+</span><span class="operator">=</span><span class="operator"> </span><span class="number">1</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator">}</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="comment">Exit early if no updates needed</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">if</span><span class="operator"> </span><span class="operator">(</span><span class="variable">updated</span><span class="operator"> </span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator"> </span><span class="number">0</span><span class="operator">)</span><span class="operator"> </span><span class="operator">{</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="variable">console</span><span class="operator">.</span><span class="function">log</span><span class="operator">(</span><span class="string">&#039;No FEATURES updates were required; column already reflects current</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="variable">metadata</span><span class="operator">.</span><span class="string">&#039;);</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="keyword">return</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator">}</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="comment">Write updated CSV back to disk with all synopses refreshed</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">await</span><span class="operator"> </span><span class="function">writeCsvTable</span><span class="operator">(</span><span class="variable">csvPath</span><span class="operator">,</span><span class="operator"> </span><span class="variable">headers</span><span class="operator">,</span><span class="operator"> </span><span class="variable">rows</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="variable">console</span><span class="operator">.</span><span class="function">log</span><span class="operator">(</span><span class="string">`Updated FEATURES column for ${updated} row(s).`</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator">}</span></div>
            <div class="code-line"></div>
            <div class="code-line"><span class="comment">==========================================================================================</span></div>
            <div class="code-line"><span class="comment">SECTION 3: ROW TYPE VALIDATION</span></div>
            <div class="code-line"><span class="comment">==========================================================================================</span></div>
            <div class="code-line">&nbsp;</div>
            <div class="code-line"><span class="comment">isFileRow</span></div>
            <div class="code-line">&nbsp;</div>
            <div class="code-line"><span class="comment">Purpose: Determine whether a CSV row represents a concrete file instead of a folder</span></div>
            <div class="code-line"><span class="comment">placeholder. Behavior: - Treats empty values and the literal word `folder` as non-file</span></div>
            <div class="code-line"><span class="comment">entries. - Accepts values whose TYPE column ends with `file` (for example `.js file`).</span></div>
            <div class="code-line"><span class="comment">Parameters: - {string} typeValue: Normalised TYPE column value. Returns: boolean Key</span></div>
            <div class="code-line"><span class="comment">Features: - Filters the CSV iteration so downstream logic only processes real source files.</span></div>
            <div class="code-line"><span class="keyword">function</span><span class="operator"> </span><span class="function">isFileRow</span><span class="operator">(</span><span class="variable">typeValue</span><span class="operator">)</span><span class="operator"> </span><span class="operator">{</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">if</span><span class="operator"> </span><span class="operator">(</span><span class="operator">!</span><span class="variable">typeValue</span><span class="operator"> </span><span class="operator">|</span><span class="operator">|</span><span class="operator"> </span><span class="variable">typeValue</span><span class="operator"> </span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator"> </span><span class="string">&#039;folder&#039;</span><span class="operator">)</span><span class="operator"> </span><span class="operator">{</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="keyword">return</span><span class="operator"> </span><span class="keyword">false</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator">}</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">return</span><span class="operator"> </span><span class="variable">typeValue</span><span class="operator">.</span><span class="function">endsWith</span><span class="operator">(</span><span class="string">&#039;file&#039;</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator">}</span></div>
            <div class="code-line"></div>
            <div class="code-line"><span class="comment">==========================================================================================</span></div>
            <div class="code-line"><span class="comment">SECTION 4: FEATURE NAME EXTRACTION</span></div>
            <div class="code-line"><span class="comment">==========================================================================================</span></div>
            <div class="code-line">&nbsp;</div>
            <div class="code-line"><span class="comment">extractFeatureName</span></div>
            <div class="code-line">&nbsp;</div>
            <div class="code-line"><span class="comment">Purpose: Derive a human-readable feature name from the path segments stored in the CSV row.</span></div>
            <div class="code-line"><span class="comment">Behavior: - Scans backward from the TYPE column to locate the filename cell. - Strips the</span></div>
            <div class="code-line"><span class="comment">file extension and converts the remainder to title case. Parameters: - {string[]} row: CSV</span></div>
            <div class="code-line"><span class="comment">row containing path segments. - {number} typeIndex: Index of the TYPE column. Returns:</span></div>
            <div class="code-line"><span class="comment">string Key Features: - Falls back to `Unnamed Feature` when no filename can be resolved.</span></div>
            <div class="code-line"><span class="keyword">function</span><span class="operator"> </span><span class="function">extractFeatureName</span><span class="operator">(</span><span class="variable">row</span><span class="operator">,</span><span class="operator"> </span><span class="variable">typeIndex</span><span class="operator">)</span><span class="operator"> </span><span class="operator">{</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">for</span><span class="operator"> </span><span class="operator">(</span><span class="keyword">let</span><span class="operator"> </span><span class="variable">index</span><span class="operator"> </span><span class="operator">=</span><span class="operator"> </span><span class="variable">typeIndex</span><span class="operator"> </span><span class="operator">-</span><span class="operator"> </span><span class="number">1</span><span class="operator">;</span><span class="operator"> </span><span class="variable">index</span><span class="operator"> </span><span class="operator">&gt;</span><span class="operator">=</span><span class="operator"> </span><span class="number">0</span><span class="operator">;</span><span class="operator"> </span><span class="variable">index</span><span class="operator"> </span><span class="operator">-</span><span class="operator">=</span><span class="operator"> </span><span class="number">1</span><span class="operator">)</span><span class="operator"> </span><span class="operator">{</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="keyword">const</span><span class="operator"> </span><span class="variable">value</span><span class="operator"> </span><span class="operator">=</span><span class="operator"> </span><span class="operator">(</span><span class="variable">row</span><span class="operator">[</span><span class="variable">index</span><span class="operator">]</span><span class="operator"> </span><span class="operator">?</span><span class="operator">?</span><span class="operator"> </span><span class="string">&#039;&#039;</span><span class="operator">)</span><span class="operator">.</span><span class="function">trim</span><span class="operator">(</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="keyword">if</span><span class="operator"> </span><span class="operator">(</span><span class="variable">value</span><span class="operator">)</span><span class="operator"> </span><span class="operator">{</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="keyword">return</span><span class="operator"> </span><span class="function">toTitleCase</span><span class="operator">(</span><span class="variable">value</span><span class="operator">.</span><span class="function">replace</span><span class="operator">(</span><span class="operator">/</span><span class="operator">\</span><span class="operator">.</span><span class="operator">[</span><span class="operator">^</span><span class="operator">.</span><span class="operator">]</span><span class="operator">+</span><span class="operator">$</span><span class="operator">/</span><span class="operator">,</span><span class="operator"> </span><span class="string">&#039;&#039;</span><span class="operator">)</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator">}</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator">}</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">return</span><span class="operator"> </span><span class="string">&#039;Unnamed Feature&#039;</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator">}</span></div>
            <div class="code-line"></div>
            <div class="code-line"><span class="comment">==========================================================================================</span></div>
            <div class="code-line"><span class="comment">SECTION 5: SYNOPSIS CONSTRUCTION</span></div>
            <div class="code-line"><span class="comment">==========================================================================================</span></div>
            <div class="code-line">&nbsp;</div>
            <div class="code-line"><span class="comment">Builds comprehensive feature synopsis from all available metadata Purpose: Create</span></div>
            <div class="code-line"><span class="comment">human-readable description combining multiple data sources</span></div>
            <div class="code-line">&nbsp;</div>
            <div class="code-line"><span class="comment">@param {Object} params - Configuration object containing all metadata @param {string}</span></div>
            <div class="code-line"><span class="comment">params.featureName - Title-cased feature name @param {string} params.summary - Content</span></div>
            <div class="code-line"><span class="comment">from SUMMARY column @param {string} params.functionsCell - Semicolon-separated function</span></div>
            <div class="code-line"><span class="comment">list @param {string} params.dataFlow - Data flow analysis from column M @param {string}</span></div>
            <div class="code-line"><span class="comment">params.ioSummary - Input/output analysis from column O @param {string} params.sideEffects</span></div>
            <div class="code-line"><span class="comment">- Side effects analysis from column P @param {string} params.fileExt - File extension for</span></div>
            <div class="code-line"><span class="comment">language-specific tagging @param {string} params.commentSnippet - Extracted documentation</span></div>
            <div class="code-line"><span class="comment">comments @returns {string} - Formatted feature synopsis</span></div>
            <div class="code-line">&nbsp;</div>
            <div class="code-line"><span class="comment">Output format: &quot;FeatureName  Descriptor [Tag1, Tag2]&quot;</span></div>
            <div class="code-line">&nbsp;</div>
            <div class="code-line"><span class="comment">Descriptor priority (first available wins): 1. SUMMARY column (first sentence, truncated</span></div>
            <div class="code-line"><span class="comment">to 180 chars) 2. Function list from FUNCTIONS column (first 3 functions) 3. Comment</span></div>
            <div class="code-line"><span class="comment">snippet with &quot;Notes:&quot; prefix</span></div>
            <div class="code-line">&nbsp;</div>
            <div class="code-line"><span class="comment">Tags generated from: - DATA FLOW patterns (DOM, Globals  &quot;Stateful&quot;) - INPUT/OUTPUT</span></div>
            <div class="code-line"><span class="comment">patterns (Adobe, Network, File, Storage) - SIDE EFFECTS patterns (state management, I/O</span></div>
            <div class="code-line"><span class="comment">operations) - File extension (.py  &quot;Python&quot;, .jsx  &quot;UI Script&quot;)</span></div>
            <div class="code-line">&nbsp;</div>
            <div class="code-line"><span class="comment">Examples: - &quot;Grid Manager  Manages dynamic grid layouts [DOM, Storage, Stateful]&quot; -</span></div>
            <div class="code-line"><span class="comment">&quot;API Client  Defines fetchData, postData, handleError [Network, Adobe]&quot; - &quot;Utility</span></div>
            <div class="code-line"><span class="comment">Functions  Notes: Helper functions for string manipulation&quot;</span></div>
            <div class="code-line">&nbsp;</div>
            <div class="code-line"><span class="comment">buildFeatureSynopsis</span></div>
            <div class="code-line">&nbsp;</div>
            <div class="code-line"><span class="comment">Purpose: Assemble the final feature synopsis string from collected metadata. Behavior: -</span></div>
            <div class="code-line"><span class="comment">Parses the FUNCTIONS cell, selects a descriptor, and generates contextual tags. - Returns</span></div>
            <div class="code-line"><span class="comment">the feature name alone when neither descriptor nor tags are available. Parameters: - {</span></div>
            <div class="code-line"><span class="comment">object} options: Aggregated metadata used to build the synopsis. - {string} featureName - {</span></div>
            <div class="code-line"><span class="comment">string} summary - {string} functionsCell - {string} dataFlow - {string} ioSummary - {</span></div>
            <div class="code-line"><span class="comment">string} sideEffects - {string} fileExt - {string} commentSnippet Returns: string Key</span></div>
            <div class="code-line"><span class="comment">Features: - Produces output formatted as `FeatureName -&gt; Descriptor [Tag1, Tag2]` when</span></div>
            <div class="code-line"><span class="comment">data is present.</span></div>
            <div class="code-line"><span class="keyword">function</span><span class="operator"> </span><span class="function">buildFeatureSynopsis</span><span class="operator">(</span><span class="operator">{</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="variable">featureName</span><span class="operator">,</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="variable">summary</span><span class="operator">,</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="variable">functionsCell</span><span class="operator">,</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="variable">dataFlow</span><span class="operator">,</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="variable">ioSummary</span><span class="operator">,</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="variable">sideEffects</span><span class="operator">,</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="variable">fileExt</span><span class="operator">,</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="variable">commentSnippet</span><span class="operator">,</span></div>
            <div class="code-line"><span class="operator">}</span><span class="operator">)</span><span class="operator"> </span><span class="operator">{</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="comment">Parse semicolon-separated function list into array</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">const</span><span class="operator"> </span><span class="variable">functions</span><span class="operator"> </span><span class="operator">=</span><span class="operator"> </span><span class="function">parseFunctions</span><span class="operator">(</span><span class="variable">functionsCell</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="comment">Build human-readable descriptor from available sources</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">const</span><span class="operator"> </span><span class="variable">descriptor</span><span class="operator"> </span><span class="operator">=</span><span class="operator"> </span><span class="function">pickDescriptor</span><span class="operator">(</span><span class="variable">summary</span><span class="operator">,</span><span class="operator"> </span><span class="variable">functions</span><span class="operator">,</span><span class="operator"> </span><span class="variable">commentSnippet</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="comment">Generate categorization tags based on file characteristics</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">const</span><span class="operator"> </span><span class="variable">tags</span><span class="operator"> </span><span class="operator">=</span><span class="operator"> </span><span class="function">buildTags</span><span class="operator">(</span><span class="operator">{</span><span class="operator"> </span><span class="variable">dataFlow</span><span class="operator">,</span><span class="operator"> </span><span class="variable">ioSummary</span><span class="operator">,</span><span class="operator"> </span><span class="variable">sideEffects</span><span class="operator">,</span><span class="operator"> </span><span class="variable">fileExt</span><span class="operator"> </span><span class="operator">}</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="comment">Assemble final synopsis with optional descriptor and tags</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">const</span><span class="operator"> </span><span class="variable">parts</span><span class="operator"> </span><span class="operator">=</span><span class="operator"> </span><span class="operator">[</span><span class="operator">]</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">if</span><span class="operator"> </span><span class="operator">(</span><span class="variable">descriptor</span><span class="operator">)</span><span class="operator"> </span><span class="operator">{</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="variable">parts</span><span class="operator">.</span><span class="function">push</span><span class="operator">(</span><span class="variable">descriptor</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator">}</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">if</span><span class="operator"> </span><span class="operator">(</span><span class="variable">tags</span><span class="operator">.</span><span class="variable">length</span><span class="operator"> </span><span class="operator">&gt;</span><span class="operator"> </span><span class="number">0</span><span class="operator">)</span><span class="operator"> </span><span class="operator">{</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="variable">parts</span><span class="operator">.</span><span class="function">push</span><span class="operator">(</span><span class="string">`[${tags.join(&#039;, &#039;)}]`</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator">}</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="comment">Return just feature name if no additional information available</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">if</span><span class="operator"> </span><span class="operator">(</span><span class="variable">parts</span><span class="operator">.</span><span class="variable">length</span><span class="operator"> </span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator"> </span><span class="number">0</span><span class="operator">)</span><span class="operator"> </span><span class="operator">{</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="keyword">return</span><span class="operator"> </span><span class="variable">featureName</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator">}</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="comment">Format: &quot;FeatureName  Descriptor [Tags]&quot;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">return</span><span class="operator"> </span><span class="string">`${featureName}  ${parts.join(&#039; &#039;)}`</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator">}</span></div>
            <div class="code-line"></div>
            <div class="code-line"><span class="comment">==========================================================================================</span></div>
            <div class="code-line"><span class="comment">SECTION 6: FUNCTION LIST PARSING</span></div>
            <div class="code-line"><span class="comment">==========================================================================================</span></div>
            <div class="code-line">&nbsp;</div>
            <div class="code-line"><span class="comment">parseFunctions</span></div>
            <div class="code-line">&nbsp;</div>
            <div class="code-line"><span class="comment">Purpose: Convert the FUNCTIONS column value into a trimmed array of function names.</span></div>
            <div class="code-line"><span class="comment">Behavior: - Splits the cell on semicolons, trims each token, and discards empty entries.</span></div>
            <div class="code-line"><span class="comment">Parameters: - {string} cell: Raw FUNCTIONS column text (for example `foo; bar; baz`).</span></div>
            <div class="code-line"><span class="comment">Returns: string[]</span></div>
            <div class="code-line"><span class="keyword">function</span><span class="operator"> </span><span class="function">parseFunctions</span><span class="operator">(</span><span class="variable">cell</span><span class="operator">)</span><span class="operator"> </span><span class="operator">{</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">return</span><span class="operator"> </span><span class="variable">cell</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator">.</span><span class="function">split</span><span class="operator">(</span><span class="string">&#039;;&#039;</span><span class="operator">)</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator">.</span><span class="function">map</span><span class="operator">(</span><span class="operator">(</span><span class="variable">entry</span><span class="operator">)</span><span class="operator"> </span><span class="operator">=</span><span class="operator">&gt;</span><span class="operator"> </span><span class="variable">entry</span><span class="operator">.</span><span class="function">trim</span><span class="operator">(</span><span class="operator">)</span><span class="operator">)</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator">.</span><span class="function">filter</span><span class="operator">(</span><span class="operator">(</span><span class="variable">entry</span><span class="operator">)</span><span class="operator"> </span><span class="operator">=</span><span class="operator">&gt;</span><span class="operator"> </span><span class="variable">entry</span><span class="operator">.</span><span class="variable">length</span><span class="operator"> </span><span class="operator">&gt;</span><span class="operator"> </span><span class="number">0</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator">}</span></div>
            <div class="code-line"></div>
            <div class="code-line"><span class="comment">==========================================================================================</span></div>
            <div class="code-line"><span class="comment">SECTION 7: DESCRIPTOR SELECTION</span></div>
            <div class="code-line"><span class="comment">==========================================================================================</span></div>
            <div class="code-line">&nbsp;</div>
            <div class="code-line"><span class="comment">pickDescriptor</span></div>
            <div class="code-line">&nbsp;</div>
            <div class="code-line"><span class="comment">Purpose: Select the most informative descriptor text for a feature synopsis. Behavior: -</span></div>
            <div class="code-line"><span class="comment">Prefers SUMMARY text, otherwise lists core functions, and optionally appends comment notes.</span></div>
            <div class="code-line"><span class="comment">- Truncates long segments to keep the synopsis concise and joins multiple parts with ` | `.</span></div>
            <div class="code-line"><span class="comment">Parameters: - {string} summary: SUMMARY column contents. - {string[]} functions: Parsed</span></div>
            <div class="code-line"><span class="comment">function names. - {string} commentSnippet: Extracted documentation snippet. Returns:</span></div>
            <div class="code-line"><span class="comment">string</span></div>
            <div class="code-line"><span class="keyword">function</span><span class="operator"> </span><span class="function">pickDescriptor</span><span class="operator">(</span><span class="variable">summary</span><span class="operator">,</span><span class="operator"> </span><span class="variable">functions</span><span class="operator">,</span><span class="operator"> </span><span class="variable">commentSnippet</span><span class="operator">)</span><span class="operator"> </span><span class="operator">{</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">const</span><span class="operator"> </span><span class="variable">descriptorParts</span><span class="operator"> </span><span class="operator">=</span><span class="operator"> </span><span class="operator">[</span><span class="operator">]</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="comment">Normalize whitespace in summary and use first sentence</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">const</span><span class="operator"> </span><span class="variable">normalizedSummary</span><span class="operator"> </span><span class="operator">=</span><span class="operator"> </span><span class="variable">summary</span><span class="operator">.</span><span class="function">replace</span><span class="operator">(</span><span class="operator">/</span><span class="operator">\</span><span class="variable">s</span><span class="operator">+</span><span class="operator">/</span><span class="variable">g</span><span class="operator">,</span><span class="operator"> </span><span class="string">&#039; &#039;</span><span class="operator">)</span><span class="operator">.</span><span class="function">trim</span><span class="operator">(</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">if</span><span class="operator"> </span><span class="operator">(</span><span class="variable">normalizedSummary</span><span class="operator">)</span><span class="operator"> </span><span class="operator">{</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="variable">descriptorParts</span><span class="operator">.</span><span class="function">push</span><span class="operator">(</span><span class="function">shortenText</span><span class="operator">(</span><span class="function">extractFirstSentence</span><span class="operator">(</span><span class="variable">normalizedSummary</span><span class="operator">)</span><span class="operator">,</span><span class="operator"> </span><span class="number">180</span><span class="operator">)</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator">}</span><span class="operator"> </span><span class="keyword">else</span><span class="operator"> </span><span class="keyword">if</span><span class="operator"> </span><span class="operator">(</span><span class="variable">functions</span><span class="operator">.</span><span class="variable">length</span><span class="operator"> </span><span class="operator">&gt;</span><span class="operator"> </span><span class="number">0</span><span class="operator">)</span><span class="operator"> </span><span class="operator">{</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="comment">Fallback to function list if no summary available</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="keyword">const</span><span class="operator"> </span><span class="variable">list</span><span class="operator"> </span><span class="operator">=</span><span class="operator"> </span><span class="variable">functions</span><span class="operator">.</span><span class="function">slice</span><span class="operator">(</span><span class="number">0</span><span class="operator">,</span><span class="operator"> </span><span class="number">3</span><span class="operator">)</span><span class="operator">.</span><span class="function">join</span><span class="operator">(</span><span class="string">&#039;, &#039;</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="keyword">const</span><span class="operator"> </span><span class="variable">suffix</span><span class="operator"> </span><span class="operator">=</span><span class="operator"> </span><span class="variable">functions</span><span class="operator">.</span><span class="variable">length</span><span class="operator"> </span><span class="operator">&gt;</span><span class="operator"> </span><span class="number">3</span><span class="operator"> </span><span class="operator">?</span><span class="operator"> </span><span class="string">&#039;&#039;</span><span class="operator"> </span><span class="operator">:</span><span class="operator"> </span><span class="string">&#039;&#039;</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="variable">descriptorParts</span><span class="operator">.</span><span class="function">push</span><span class="operator">(</span><span class="string">`Defines ${list}${suffix}`</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator">}</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="comment">Add comment snippet as supplementary information</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">if</span><span class="operator"> </span><span class="operator">(</span><span class="variable">commentSnippet</span><span class="operator">)</span><span class="operator"> </span><span class="operator">{</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="keyword">const</span><span class="operator"> </span><span class="variable">prefix</span><span class="operator"> </span><span class="operator">=</span><span class="operator"> </span><span class="variable">descriptorParts</span><span class="operator">.</span><span class="variable">length</span><span class="operator"> </span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator"> </span><span class="number">0</span><span class="operator"> </span><span class="operator">?</span><span class="operator"> </span><span class="string">&#039;&#039;</span><span class="operator"> </span><span class="operator">:</span><span class="operator"> </span><span class="string">&#039;Notes: &#039;</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="variable">descriptorParts</span><span class="operator">.</span><span class="function">push</span><span class="operator">(</span><span class="string">`${prefix}${shortenText(commentSnippet, 160)}`</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator">}</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">return</span><span class="operator"> </span><span class="variable">descriptorParts</span><span class="operator">.</span><span class="function">join</span><span class="operator">(</span><span class="string">&#039; | &#039;</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator">}</span></div>
            <div class="code-line"></div>
            <div class="code-line"><span class="comment">==========================================================================================</span></div>
            <div class="code-line"><span class="comment">SECTION 8: TEXT PROCESSING UTILITIES</span></div>
            <div class="code-line"><span class="comment">==========================================================================================</span></div>
            <div class="code-line">&nbsp;</div>
            <div class="code-line"><span class="comment">extractFirstSentence</span></div>
            <div class="code-line">&nbsp;</div>
            <div class="code-line"><span class="comment">Purpose: Capture the opening sentence from a longer block of text for use in the synopsis.</span></div>
            <div class="code-line"><span class="comment">Behavior: - Searches for the first terminal punctuation mark (`.`, `!`, or `?`) followed</span></div>
            <div class="code-line"><span class="comment">by whitespace or EOS. - Returns the full text when no terminal punctuation is found.</span></div>
            <div class="code-line"><span class="comment">Parameters: - {string} text: Input text that may contain multiple sentences. Returns:</span></div>
            <div class="code-line"><span class="comment">string</span></div>
            <div class="code-line"><span class="keyword">function</span><span class="operator"> </span><span class="function">extractFirstSentence</span><span class="operator">(</span><span class="variable">text</span><span class="operator">)</span><span class="operator"> </span><span class="operator">{</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">const</span><span class="operator"> </span><span class="variable">sentenceMatch</span><span class="operator"> </span><span class="operator">=</span><span class="operator"> </span><span class="variable">text</span><span class="operator">.</span><span class="function">match</span><span class="operator">(</span><span class="operator">/</span><span class="operator">^</span><span class="operator">(</span><span class="operator">.</span><span class="operator">+</span><span class="operator">?</span><span class="operator">[</span><span class="operator">.</span><span class="operator">!</span><span class="operator">?</span><span class="operator">]</span><span class="operator">)</span><span class="operator">(</span><span class="operator">\</span><span class="variable">s</span><span class="operator">|</span><span class="operator">$</span><span class="operator">)</span><span class="operator">/</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">if</span><span class="operator"> </span><span class="operator">(</span><span class="variable">sentenceMatch</span><span class="operator">)</span><span class="operator"> </span><span class="operator">{</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="keyword">return</span><span class="operator"> </span><span class="variable">sentenceMatch</span><span class="operator">[</span><span class="number">1</span><span class="operator">]</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator">}</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">return</span><span class="operator"> </span><span class="variable">text</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator">}</span></div>
            <div class="code-line"></div>
            <div class="code-line"></div>
            <div class="code-line"><span class="comment">shortenText</span></div>
            <div class="code-line">&nbsp;</div>
            <div class="code-line"><span class="comment">Purpose: Enforce a character limit on descriptor text while preserving readability.</span></div>
            <div class="code-line"><span class="comment">Behavior: - Returns the original text when within the limit. - Otherwise trims the tail,</span></div>
            <div class="code-line"><span class="comment">removes trailing whitespace, and appends a single ellipsis character. Parameters: - {</span></div>
            <div class="code-line"><span class="comment">string} text: Source text to constrain. - {number} maxLength: Maximum allowed characters</span></div>
            <div class="code-line"><span class="comment">including the ellipsis. Returns: string</span></div>
            <div class="code-line"><span class="keyword">function</span><span class="operator"> </span><span class="function">shortenText</span><span class="operator">(</span><span class="variable">text</span><span class="operator">,</span><span class="operator"> </span><span class="variable">maxLength</span><span class="operator">)</span><span class="operator"> </span><span class="operator">{</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">if</span><span class="operator"> </span><span class="operator">(</span><span class="variable">text</span><span class="operator">.</span><span class="variable">length</span><span class="operator"> </span><span class="operator">&lt;</span><span class="operator">=</span><span class="operator"> </span><span class="variable">maxLength</span><span class="operator">)</span><span class="operator"> </span><span class="operator">{</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="keyword">return</span><span class="operator"> </span><span class="variable">text</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator">}</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">return</span><span class="operator"> </span><span class="string">`${text.slice(0, maxLength - 1).trimEnd()}`</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator">}</span></div>
            <div class="code-line"></div>
            <div class="code-line"><span class="comment">==========================================================================================</span></div>
            <div class="code-line"><span class="comment">SECTION 9: TAG GENERATION</span></div>
            <div class="code-line"><span class="comment">==========================================================================================</span></div>
            <div class="code-line">&nbsp;</div>
            <div class="code-line"><span class="comment">buildTags</span></div>
            <div class="code-line">&nbsp;</div>
            <div class="code-line"><span class="comment">Purpose: Derive quick-reference tags describing integration points and language</span></div>
            <div class="code-line"><span class="comment">characteristics. Behavior: - Scans DATA FLOW, IO, and SIDE EFFECTS metadata for known</span></div>
            <div class="code-line"><span class="comment">patterns. - Adds language hints based on file extension and limits the result to four tags.</span></div>
            <div class="code-line"><span class="comment">Parameters: - {object} params: Metadata bundle. - {string} dataFlow - {string} ioSummary -</span></div>
            <div class="code-line"><span class="comment">{string} sideEffects - {string} fileExt Returns: string[]</span></div>
            <div class="code-line"><span class="keyword">function</span><span class="operator"> </span><span class="function">buildTags</span><span class="operator">(</span><span class="operator">{</span><span class="operator"> </span><span class="variable">dataFlow</span><span class="operator">,</span><span class="operator"> </span><span class="variable">ioSummary</span><span class="operator">,</span><span class="operator"> </span><span class="variable">sideEffects</span><span class="operator">,</span><span class="operator"> </span><span class="variable">fileExt</span><span class="operator"> </span><span class="operator">}</span><span class="operator">)</span><span class="operator"> </span><span class="operator">{</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">const</span><span class="operator"> </span><span class="variable">tags</span><span class="operator"> </span><span class="operator">=</span><span class="operator"> </span><span class="keyword">new</span><span class="operator"> </span><span class="function">Set</span><span class="operator">(</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="comment">Convert to lowercase for case-insensitive matching</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">const</span><span class="operator"> </span><span class="variable">lcDataFlow</span><span class="operator"> </span><span class="operator">=</span><span class="operator"> </span><span class="variable">dataFlow</span><span class="operator">.</span><span class="function">toLowerCase</span><span class="operator">(</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">const</span><span class="operator"> </span><span class="variable">lcIo</span><span class="operator"> </span><span class="operator">=</span><span class="operator"> </span><span class="variable">ioSummary</span><span class="operator">.</span><span class="function">toLowerCase</span><span class="operator">(</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">const</span><span class="operator"> </span><span class="variable">lcSideEffects</span><span class="operator"> </span><span class="operator">=</span><span class="operator"> </span><span class="variable">sideEffects</span><span class="operator">.</span><span class="function">toLowerCase</span><span class="operator">(</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="comment">Detect DOM manipulation patterns</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">if</span><span class="operator"> </span><span class="operator">(</span><span class="operator">/</span><span class="operator">\</span><span class="variable">bdom</span><span class="operator">\</span><span class="variable">b</span><span class="operator">/</span><span class="operator">.</span><span class="function">test</span><span class="operator">(</span><span class="variable">lcDataFlow</span><span class="operator">)</span><span class="operator"> </span><span class="operator">|</span><span class="operator">|</span><span class="operator"> </span><span class="variable">lcSideEffects</span><span class="operator">.</span><span class="function">includes</span><span class="operator">(</span><span class="string">&#039;dom:&#039;</span><span class="operator">)</span><span class="operator"> </span><span class="operator">|</span><span class="operator">|</span><span class="operator"> </span><span class="variable">lcSideEffects</span><span class="operator">.</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="function">includes</span><span class="operator">(</span><span class="string">&#039;ui:&#039;</span><span class="operator">)</span><span class="operator">)</span><span class="operator"> </span><span class="operator">{</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="variable">tags</span><span class="operator">.</span><span class="function">add</span><span class="operator">(</span><span class="string">&#039;DOM&#039;</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator">}</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="comment">Detect Adobe API integration</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">if</span><span class="operator"> </span><span class="operator">(</span><span class="variable">lcIo</span><span class="operator">.</span><span class="function">includes</span><span class="operator">(</span><span class="string">&#039;adobe:&#039;</span><span class="operator">)</span><span class="operator"> </span><span class="operator">|</span><span class="operator">|</span><span class="operator"> </span><span class="variable">lcSideEffects</span><span class="operator">.</span><span class="function">includes</span><span class="operator">(</span><span class="string">&#039;adobe&#039;</span><span class="operator">)</span><span class="operator">)</span><span class="operator"> </span><span class="operator">{</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="variable">tags</span><span class="operator">.</span><span class="function">add</span><span class="operator">(</span><span class="string">&#039;Adobe&#039;</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator">}</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="comment">Detect network operations</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">if</span><span class="operator"> </span><span class="operator">(</span><span class="variable">lcIo</span><span class="operator">.</span><span class="function">includes</span><span class="operator">(</span><span class="string">&#039;network&#039;</span><span class="operator">)</span><span class="operator"> </span><span class="operator">|</span><span class="operator">|</span><span class="operator"> </span><span class="variable">lcSideEffects</span><span class="operator">.</span><span class="function">includes</span><span class="operator">(</span><span class="string">&#039;network&#039;</span><span class="operator">)</span><span class="operator">)</span><span class="operator"> </span><span class="operator">{</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="variable">tags</span><span class="operator">.</span><span class="function">add</span><span class="operator">(</span><span class="string">&#039;Network&#039;</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator">}</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="comment">Detect file system operations</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">if</span><span class="operator"> </span><span class="operator">(</span><span class="variable">lcIo</span><span class="operator">.</span><span class="function">includes</span><span class="operator">(</span><span class="string">&#039;file:&#039;</span><span class="operator">)</span><span class="operator"> </span><span class="operator">|</span><span class="operator">|</span><span class="operator"> </span><span class="variable">lcSideEffects</span><span class="operator">.</span><span class="function">includes</span><span class="operator">(</span><span class="string">&#039;file&#039;</span><span class="operator">)</span><span class="operator">)</span><span class="operator"> </span><span class="operator">{</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="variable">tags</span><span class="operator">.</span><span class="function">add</span><span class="operator">(</span><span class="string">&#039;File IO&#039;</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator">}</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="comment">Detect storage API usage (localStorage, sessionStorage)</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">if</span><span class="operator"> </span><span class="operator">(</span><span class="variable">lcIo</span><span class="operator">.</span><span class="function">includes</span><span class="operator">(</span><span class="string">&#039;storage&#039;</span><span class="operator">)</span><span class="operator"> </span><span class="operator">|</span><span class="operator">|</span><span class="operator"> </span><span class="variable">lcSideEffects</span><span class="operator">.</span><span class="function">includes</span><span class="operator">(</span><span class="string">&#039;storage&#039;</span><span class="operator">)</span><span class="operator">)</span><span class="operator"> </span><span class="operator">{</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="variable">tags</span><span class="operator">.</span><span class="function">add</span><span class="operator">(</span><span class="string">&#039;Storage&#039;</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator">}</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="comment">Detect global state usage</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">if</span><span class="operator"> </span><span class="operator">(</span><span class="variable">lcDataFlow</span><span class="operator">.</span><span class="function">includes</span><span class="operator">(</span><span class="string">&#039;globals{&#039;</span><span class="operator">)</span><span class="operator"> </span><span class="operator">|</span><span class="operator">|</span><span class="operator"> </span><span class="variable">lcSideEffects</span><span class="operator">.</span><span class="function">includes</span><span class="operator">(</span><span class="string">&#039;state:&#039;</span><span class="operator">)</span><span class="operator">)</span><span class="operator"> </span><span class="operator">{</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="variable">tags</span><span class="operator">.</span><span class="function">add</span><span class="operator">(</span><span class="string">&#039;Stateful&#039;</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator">}</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="comment">Add language-specific tags based on file extension</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">if</span><span class="operator"> </span><span class="operator">(</span><span class="variable">fileExt</span><span class="operator"> </span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator"> </span><span class="string">&#039;.py&#039;</span><span class="operator">)</span><span class="operator"> </span><span class="operator">{</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="variable">tags</span><span class="operator">.</span><span class="function">add</span><span class="operator">(</span><span class="string">&#039;Python&#039;</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator">}</span><span class="operator"> </span><span class="keyword">else</span><span class="operator"> </span><span class="keyword">if</span><span class="operator"> </span><span class="operator">(</span><span class="variable">fileExt</span><span class="operator"> </span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator"> </span><span class="string">&#039;.cs&#039;</span><span class="operator">)</span><span class="operator"> </span><span class="operator">{</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="variable">tags</span><span class="operator">.</span><span class="function">add</span><span class="operator">(</span><span class="string">&#039;C#&#039;</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator">}</span><span class="operator"> </span><span class="keyword">else</span><span class="operator"> </span><span class="keyword">if</span><span class="operator"> </span><span class="operator">(</span><span class="variable">fileExt</span><span class="operator"> </span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator"> </span><span class="string">&#039;.jsx&#039;</span><span class="operator"> </span><span class="operator">|</span><span class="operator">|</span><span class="operator"> </span><span class="variable">fileExt</span><span class="operator"> </span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator"> </span><span class="string">&#039;.tsx&#039;</span><span class="operator">)</span><span class="operator"> </span><span class="operator">{</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="variable">tags</span><span class="operator">.</span><span class="function">add</span><span class="operator">(</span><span class="string">&#039;UI Script&#039;</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator">}</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="comment">Return first 4 tags to avoid cluttering synopsis</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">return</span><span class="operator"> </span><span class="type">Array</span><span class="operator">.</span><span class="keyword">from</span><span class="operator">(</span><span class="variable">tags</span><span class="operator">)</span><span class="operator">.</span><span class="function">slice</span><span class="operator">(</span><span class="number">0</span><span class="operator">,</span><span class="operator"> </span><span class="number">4</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator">}</span></div>
            <div class="code-line"></div>
            <div class="code-line"><span class="comment">==========================================================================================</span></div>
            <div class="code-line"><span class="comment">SECTION 10: STRING FORMATTING UTILITIES</span></div>
            <div class="code-line"><span class="comment">==========================================================================================</span></div>
            <div class="code-line">&nbsp;</div>
            <div class="code-line"><span class="comment">toTitleCase</span></div>
            <div class="code-line">&nbsp;</div>
            <div class="code-line"><span class="comment">Purpose: Convert filename tokens into a human-readable feature name. Behavior: - Splits</span></div>
            <div class="code-line"><span class="comment">the input on hyphens, underscores, and whitespace, then capitalizes each segment.</span></div>
            <div class="code-line"><span class="comment">Parameters: - {string} value: Filename stem or raw identifier. Returns: string</span></div>
            <div class="code-line"><span class="keyword">function</span><span class="operator"> </span><span class="function">toTitleCase</span><span class="operator">(</span><span class="variable">value</span><span class="operator">)</span><span class="operator"> </span><span class="operator">{</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">return</span><span class="operator"> </span><span class="variable">value</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator">.</span><span class="function">split</span><span class="operator">(</span><span class="operator">/</span><span class="operator">[</span><span class="operator">-</span><span class="variable">_</span><span class="operator">\</span><span class="variable">s</span><span class="operator">]</span><span class="operator">+</span><span class="operator">/</span><span class="operator">)</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator">.</span><span class="function">filter</span><span class="operator">(</span><span class="type">Boolean</span><span class="operator">)</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator">.</span><span class="function">map</span><span class="operator">(</span><span class="operator">(</span><span class="variable">segment</span><span class="operator">)</span><span class="operator"> </span><span class="operator">=</span><span class="operator">&gt;</span><span class="operator"> </span><span class="variable">segment</span><span class="operator">.</span><span class="function">charAt</span><span class="operator">(</span><span class="number">0</span><span class="operator">)</span><span class="operator">.</span><span class="function">toUpperCase</span><span class="operator">(</span><span class="operator">)</span><span class="operator"> </span><span class="operator">+</span><span class="operator"> </span><span class="variable">segment</span><span class="operator">.</span><span class="function">slice</span><span class="operator">(</span><span class="number">1</span><span class="operator">)</span><span class="operator">)</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator">.</span><span class="function">join</span><span class="operator">(</span><span class="string">&#039; &#039;</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator">}</span></div>
            <div class="code-line"></div>
            <div class="code-line"><span class="comment">==========================================================================================</span></div>
            <div class="code-line"><span class="comment">SECTION 11: PATH CONSTRUCTION</span></div>
            <div class="code-line"><span class="comment">==========================================================================================</span></div>
            <div class="code-line">&nbsp;</div>
            <div class="code-line"><span class="comment">buildRelativePath</span></div>
            <div class="code-line">&nbsp;</div>
            <div class="code-line"><span class="comment">Purpose: Reconstruct a relative file path from distributed CSV columns. Behavior: -</span></div>
            <div class="code-line"><span class="comment">Collects non-empty segments preceding the TYPE column and folds them with `path.join`.</span></div>
            <div class="code-line"><span class="comment">Parameters: - {string[]} row: CSV row containing path segments. - {number} typeIndex:</span></div>
            <div class="code-line"><span class="comment">Index of the TYPE column. Returns: string</span></div>
            <div class="code-line"><span class="keyword">function</span><span class="operator"> </span><span class="function">buildRelativePath</span><span class="operator">(</span><span class="variable">row</span><span class="operator">,</span><span class="operator"> </span><span class="variable">typeIndex</span><span class="operator">)</span><span class="operator"> </span><span class="operator">{</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">const</span><span class="operator"> </span><span class="variable">segments</span><span class="operator"> </span><span class="operator">=</span><span class="operator"> </span><span class="operator">[</span><span class="operator">]</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">for</span><span class="operator"> </span><span class="operator">(</span><span class="keyword">let</span><span class="operator"> </span><span class="variable">index</span><span class="operator"> </span><span class="operator">=</span><span class="operator"> </span><span class="number">0</span><span class="operator">;</span><span class="operator"> </span><span class="variable">index</span><span class="operator"> </span><span class="operator">&lt;</span><span class="operator"> </span><span class="variable">typeIndex</span><span class="operator">;</span><span class="operator"> </span><span class="variable">index</span><span class="operator"> </span><span class="operator">+</span><span class="operator">=</span><span class="operator"> </span><span class="number">1</span><span class="operator">)</span><span class="operator"> </span><span class="operator">{</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="keyword">const</span><span class="operator"> </span><span class="variable">value</span><span class="operator"> </span><span class="operator">=</span><span class="operator"> </span><span class="operator">(</span><span class="variable">row</span><span class="operator">[</span><span class="variable">index</span><span class="operator">]</span><span class="operator"> </span><span class="operator">?</span><span class="operator">?</span><span class="operator"> </span><span class="string">&#039;&#039;</span><span class="operator">)</span><span class="operator">.</span><span class="function">trim</span><span class="operator">(</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="keyword">if</span><span class="operator"> </span><span class="operator">(</span><span class="variable">value</span><span class="operator">)</span><span class="operator"> </span><span class="operator">{</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="variable">segments</span><span class="operator">.</span><span class="function">push</span><span class="operator">(</span><span class="variable">value</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator">}</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator">}</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">if</span><span class="operator"> </span><span class="operator">(</span><span class="variable">segments</span><span class="operator">.</span><span class="variable">length</span><span class="operator"> </span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator"> </span><span class="number">0</span><span class="operator">)</span><span class="operator"> </span><span class="operator">{</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="keyword">return</span><span class="operator"> </span><span class="string">&#039;&#039;</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator">}</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">return</span><span class="operator"> </span><span class="variable">segments</span><span class="operator">.</span><span class="function">reduce</span><span class="operator">(</span><span class="operator">(</span><span class="variable">acc</span><span class="operator">,</span><span class="operator"> </span><span class="variable">segment</span><span class="operator">)</span><span class="operator"> </span><span class="operator">=</span><span class="operator">&gt;</span><span class="operator"> </span><span class="operator">(</span><span class="variable">acc</span><span class="operator"> </span><span class="operator">?</span><span class="operator"> </span><span class="variable">path</span><span class="operator">.</span><span class="function">join</span><span class="operator">(</span><span class="variable">acc</span><span class="operator">,</span><span class="operator"> </span><span class="variable">segment</span><span class="operator">)</span><span class="operator"> </span><span class="operator">:</span><span class="operator"> </span><span class="variable">segment</span><span class="operator">)</span><span class="operator">,</span><span class="operator"> </span><span class="string">&#039;&#039;</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator">}</span></div>
            <div class="code-line"></div>
            <div class="code-line"><span class="comment">==========================================================================================</span></div>
            <div class="code-line"><span class="comment">SECTION 12: FILE FILTERING</span></div>
            <div class="code-line"><span class="comment">==========================================================================================</span></div>
            <div class="code-line">&nbsp;</div>
            <div class="code-line"><span class="comment">shouldSkipFeatureExtraction</span></div>
            <div class="code-line">&nbsp;</div>
            <div class="code-line"><span class="comment">Purpose: Exclude binary and image assets from feature synopsis generation. Behavior: -</span></div>
            <div class="code-line"><span class="comment">Checks the file extension against a deny-list of non-code formats. Parameters: - {string}</span></div>
            <div class="code-line"><span class="comment">ext: File extension including the leading dot. Returns: boolean</span></div>
            <div class="code-line"><span class="keyword">function</span><span class="operator"> </span><span class="function">shouldSkipFeatureExtraction</span><span class="operator">(</span><span class="variable">ext</span><span class="operator">)</span><span class="operator"> </span><span class="operator">{</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">const</span><span class="operator"> </span><span class="variable">excluded</span><span class="operator"> </span><span class="operator">=</span><span class="operator"> </span><span class="keyword">new</span><span class="operator"> </span><span class="function">Set</span><span class="operator">(</span><span class="operator">[</span><span class="string">&#039;.jpg&#039;</span><span class="operator">,</span><span class="operator"> </span><span class="string">&#039;.jpeg&#039;</span><span class="operator">,</span><span class="operator"> </span><span class="string">&#039;.png&#039;</span><span class="operator">,</span><span class="operator"> </span><span class="string">&#039;.gif&#039;</span><span class="operator">,</span><span class="operator"> </span><span class="string">&#039;.psd&#039;</span><span class="operator">,</span><span class="operator"> </span><span class="string">&#039;.pdb&#039;</span><span class="operator">,</span><span class="operator"> </span><span class="string">&#039;.bmp&#039;</span><span class="operator">,</span><span class="operator"> </span><span class="string">&#039;.</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="variable">tiff</span><span class="string">&#039;, &#039;</span><span class="operator">.</span><span class="variable">tif</span><span class="string">&#039;, &#039;</span><span class="operator">.</span><span class="variable">webp</span><span class="string">&#039;]);</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">return</span><span class="operator"> </span><span class="variable">excluded</span><span class="operator">.</span><span class="function">has</span><span class="operator">(</span><span class="variable">ext</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator">}</span></div>
            <div class="code-line"></div>
            <div class="code-line"><span class="comment">==========================================================================================</span></div>
            <div class="code-line"><span class="comment">SECTION 13: COMMENT EXTRACTION</span></div>
            <div class="code-line"><span class="comment">==========================================================================================</span></div>
            <div class="code-line">&nbsp;</div>
            <div class="code-line"><span class="comment">extractCommentSnippet</span></div>
            <div class="code-line">&nbsp;</div>
            <div class="code-line"><span class="comment">Purpose: Retrieve a concise documentation snippet from the head of a source file.</span></div>
            <div class="code-line"><span class="comment">Behavior: - Reads the file, extracts a language-appropriate comment block, cleans it, and</span></div>
            <div class="code-line"><span class="comment">truncates to 160 characters. - Returns an empty string when the file is unreadable or</span></div>
            <div class="code-line"><span class="comment">lacks comments. Parameters: - {string} filePath: Absolute path to the source file. - {</span></div>
            <div class="code-line"><span class="comment">string} ext: File extension used to select comment patterns. Returns: Promise&lt;string&gt;</span></div>
            <div class="code-line"><span class="keyword">async</span><span class="operator"> </span><span class="keyword">function</span><span class="operator"> </span><span class="function">extractCommentSnippet</span><span class="operator">(</span><span class="variable">filePath</span><span class="operator">,</span><span class="operator"> </span><span class="variable">ext</span><span class="operator">)</span><span class="operator"> </span><span class="operator">{</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">try</span><span class="operator"> </span><span class="operator">{</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="keyword">const</span><span class="operator"> </span><span class="variable">source</span><span class="operator"> </span><span class="operator">=</span><span class="operator"> </span><span class="keyword">await</span><span class="operator"> </span><span class="variable">fs</span><span class="operator">.</span><span class="function">readFile</span><span class="operator">(</span><span class="variable">filePath</span><span class="operator">,</span><span class="operator"> </span><span class="string">&#039;utf8&#039;</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="keyword">const</span><span class="operator"> </span><span class="variable">rawSnippet</span><span class="operator"> </span><span class="operator">=</span><span class="operator"> </span><span class="function">extractCommentSnippetFromSource</span><span class="operator">(</span><span class="variable">source</span><span class="operator">,</span><span class="operator"> </span><span class="variable">ext</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="keyword">return</span><span class="operator"> </span><span class="variable">rawSnippet</span><span class="operator"> </span><span class="operator">?</span><span class="operator"> </span><span class="function">shortenText</span><span class="operator">(</span><span class="variable">rawSnippet</span><span class="operator">,</span><span class="operator"> </span><span class="number">160</span><span class="operator">)</span><span class="operator"> </span><span class="operator">:</span><span class="operator"> </span><span class="string">&#039;&#039;</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator">}</span><span class="operator"> </span><span class="keyword">catch</span><span class="operator"> </span><span class="operator">{</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="keyword">return</span><span class="operator"> </span><span class="string">&#039;&#039;</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator">}</span></div>
            <div class="code-line"><span class="operator">}</span></div>
            <div class="code-line"></div>
            <div class="code-line"></div>
            <div class="code-line"><span class="comment">extractCommentSnippetFromSource</span></div>
            <div class="code-line">&nbsp;</div>
            <div class="code-line"><span class="comment">Purpose: Isolate the most representative comment block from in-memory source text.</span></div>
            <div class="code-line"><span class="comment">Behavior: - Removes any leading BOM, inspects the first 5 KB, and tests pattern variants</span></div>
            <div class="code-line"><span class="comment">in priority order. - Cleans the first matching comment and returns an empty string when</span></div>
            <div class="code-line"><span class="comment">none are found. Parameters: - {string} source: Full source text. - {string} ext: File</span></div>
            <div class="code-line"><span class="comment">extension for language awareness. Returns: string</span></div>
            <div class="code-line"><span class="keyword">function</span><span class="operator"> </span><span class="function">extractCommentSnippetFromSource</span><span class="operator">(</span><span class="variable">source</span><span class="operator">,</span><span class="operator"> </span><span class="variable">ext</span><span class="operator">)</span><span class="operator"> </span><span class="operator">{</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="comment">Remove UTF-8 Byte Order Mark if present</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">const</span><span class="operator"> </span><span class="variable">trimmed</span><span class="operator"> </span><span class="operator">=</span><span class="operator"> </span><span class="variable">source</span><span class="operator">.</span><span class="function">replace</span><span class="operator">(</span><span class="operator">/</span><span class="operator">^</span><span class="operator">\</span><span class="variable">uFEFF</span><span class="operator">/</span><span class="operator">,</span><span class="operator"> </span><span class="string">&#039;&#039;</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="comment">Only examine first 5KB for performance</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">const</span><span class="operator"> </span><span class="variable">head</span><span class="operator"> </span><span class="operator">=</span><span class="operator"> </span><span class="variable">trimmed</span><span class="operator">.</span><span class="function">slice</span><span class="operator">(</span><span class="number">0</span><span class="operator">,</span><span class="operator"> </span><span class="number">5000</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="comment">Get language-specific comment patterns</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">const</span><span class="operator"> </span><span class="variable">patterns</span><span class="operator"> </span><span class="operator">=</span><span class="operator"> </span><span class="function">buildCommentPatterns</span><span class="operator">(</span><span class="variable">ext</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">for</span><span class="operator"> </span><span class="operator">(</span><span class="keyword">const</span><span class="operator"> </span><span class="variable">pattern</span><span class="operator"> </span><span class="keyword">of</span><span class="operator"> </span><span class="variable">patterns</span><span class="operator">)</span><span class="operator"> </span><span class="operator">{</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="keyword">const</span><span class="operator"> </span><span class="variable">match</span><span class="operator"> </span><span class="operator">=</span><span class="operator"> </span><span class="variable">head</span><span class="operator">.</span><span class="function">match</span><span class="operator">(</span><span class="variable">pattern</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="keyword">if</span><span class="operator"> </span><span class="operator">(</span><span class="variable">match</span><span class="operator"> </span><span class="operator">&amp;</span><span class="operator">&amp;</span><span class="operator"> </span><span class="variable">match</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">)</span><span class="operator"> </span><span class="operator">{</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="keyword">return</span><span class="operator"> </span><span class="function">cleanComment</span><span class="operator">(</span><span class="variable">match</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator">}</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator">}</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">return</span><span class="operator"> </span><span class="string">&#039;&#039;</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator">}</span></div>
            <div class="code-line"></div>
            <div class="code-line"></div>
            <div class="code-line"><span class="comment">buildCommentPatterns</span></div>
            <div class="code-line">&nbsp;</div>
            <div class="code-line"><span class="comment">Purpose: Provide ordered regex patterns suited to the comment syntax of a given language.</span></div>
            <div class="code-line"><span class="comment">Behavior: - Returns language-specific pattern sets prioritising leading block and line</span></div>
            <div class="code-line"><span class="comment">comments before fallbacks. Parameters: - {string} ext: File extension (for example `.js`,</span></div>
            <div class="code-line"><span class="comment">`.py`). Returns: RegExp[]</span></div>
            <div class="code-line"><span class="keyword">function</span><span class="operator"> </span><span class="function">buildCommentPatterns</span><span class="operator">(</span><span class="variable">ext</span><span class="operator">)</span><span class="operator"> </span><span class="operator">{</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">const</span><span class="operator"> </span><span class="variable">jsLike</span><span class="operator"> </span><span class="operator">=</span><span class="operator"> </span><span class="operator">[</span><span class="string">&#039;.js&#039;</span><span class="operator">,</span><span class="operator"> </span><span class="string">&#039;.jsx&#039;</span><span class="operator">,</span><span class="operator"> </span><span class="string">&#039;.ts&#039;</span><span class="operator">,</span><span class="operator"> </span><span class="string">&#039;.tsx&#039;</span><span class="operator">,</span><span class="operator"> </span><span class="string">&#039;.mjs&#039;</span><span class="operator">,</span><span class="operator"> </span><span class="string">&#039;.cjs&#039;</span><span class="operator">,</span><span class="operator"> </span><span class="string">&#039;.cs&#039;</span><span class="operator">,</span><span class="operator"> </span><span class="string">&#039;.css&#039;</span><span class="operator">]</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">if</span><span class="operator"> </span><span class="operator">(</span><span class="variable">jsLike</span><span class="operator">.</span><span class="function">includes</span><span class="operator">(</span><span class="variable">ext</span><span class="operator">)</span><span class="operator">)</span><span class="operator"> </span><span class="operator">{</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="keyword">return</span><span class="operator"> </span><span class="operator">[</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator">/</span><span class="operator">^</span><span class="operator">\</span><span class="variable">s</span><span class="operator">*</span><span class="operator">\</span><span class="operator">/</span><span class="operator">\</span><span class="operator">*</span><span class="operator">\</span><span class="operator">*</span><span class="operator">?</span><span class="operator">[</span><span class="operator">\</span><span class="variable">s</span><span class="operator">\</span><span class="type">S</span><span class="operator">]</span><span class="operator">*</span><span class="operator">?</span><span class="operator">\</span><span class="operator">*</span><span class="operator">\</span><span class="comment">,</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator">/</span><span class="operator">^</span><span class="operator">\</span><span class="variable">s</span><span class="operator">*</span><span class="operator">(</span><span class="operator">?</span><span class="operator">:</span><span class="operator">\</span><span class="operator">/</span><span class="operator">\</span><span class="operator">/</span><span class="operator">[</span><span class="operator">^</span><span class="operator">\</span><span class="variable">n</span><span class="operator">]</span><span class="operator">*</span><span class="operator">\</span><span class="variable">n</span><span class="operator">?</span><span class="operator">)</span><span class="operator">{</span><span class="number">1</span><span class="operator">,</span><span class="number">8</span><span class="operator">}</span><span class="operator">/</span><span class="operator">,</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator">/</span><span class="operator">\</span><span class="operator">/</span><span class="operator">\</span><span class="operator">*</span><span class="operator">\</span><span class="operator">*</span><span class="operator">?</span><span class="operator">[</span><span class="operator">\</span><span class="variable">s</span><span class="operator">\</span><span class="type">S</span><span class="operator">]</span><span class="operator">*</span><span class="operator">?</span><span class="operator">\</span><span class="operator">*</span><span class="operator">\</span><span class="comment">,</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator">/</span><span class="operator">\</span><span class="operator">/</span><span class="operator">\</span><span class="operator">/</span><span class="operator">[</span><span class="operator">^</span><span class="operator">\</span><span class="variable">n</span><span class="operator">]</span><span class="operator">+</span><span class="operator">/</span><span class="operator">,</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator">]</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator">}</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">if</span><span class="operator"> </span><span class="operator">(</span><span class="variable">ext</span><span class="operator"> </span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator"> </span><span class="string">&#039;.py&#039;</span><span class="operator">)</span><span class="operator"> </span><span class="operator">{</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="keyword">return</span><span class="operator"> </span><span class="operator">[</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator">/</span><span class="operator">^</span><span class="operator">\</span><span class="variable">s</span><span class="operator">*</span><span class="operator">(</span><span class="operator">?</span><span class="operator">:</span><span class="string">&#039;&#039;</span><span class="string">&#039;[\s\S]*?&#039;</span><span class="string">&#039;&#039;</span><span class="operator">|</span><span class="string">&quot;&quot;</span><span class="string">&quot;[\s\S]*?&quot;</span><span class="string">&quot;&quot;</span><span class="operator">)</span><span class="operator">/</span><span class="operator">,</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator">/</span><span class="operator">^</span><span class="operator">\</span><span class="variable">s</span><span class="operator">*</span><span class="operator">(</span><span class="operator">?</span><span class="operator">:</span><span class="operator">#</span><span class="operator">[</span><span class="operator">^</span><span class="operator">\</span><span class="variable">n</span><span class="operator">]</span><span class="operator">*</span><span class="operator">\</span><span class="variable">n</span><span class="operator">?</span><span class="operator">)</span><span class="operator">{</span><span class="number">1</span><span class="operator">,</span><span class="number">12</span><span class="operator">}</span><span class="operator">/</span><span class="operator">,</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator">/</span><span class="string">&#039;&#039;</span><span class="string">&#039;[\s\S]*?&#039;</span><span class="string">&#039;&#039;</span><span class="operator">/</span><span class="operator">,</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator">/</span><span class="string">&quot;&quot;</span><span class="string">&quot;[\s\S]*?&quot;</span><span class="string">&quot;&quot;</span><span class="operator">/</span><span class="operator">,</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator">/</span><span class="operator">#</span><span class="operator">[</span><span class="operator">^</span><span class="operator">\</span><span class="variable">n</span><span class="operator">]</span><span class="operator">+</span><span class="operator">/</span><span class="operator">,</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator">]</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator">}</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">if</span><span class="operator"> </span><span class="operator">(</span><span class="variable">ext</span><span class="operator"> </span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator"> </span><span class="string">&#039;.html&#039;</span><span class="operator"> </span><span class="operator">|</span><span class="operator">|</span><span class="operator"> </span><span class="variable">ext</span><span class="operator"> </span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator"> </span><span class="string">&#039;.htm&#039;</span><span class="operator"> </span><span class="operator">|</span><span class="operator">|</span><span class="operator"> </span><span class="variable">ext</span><span class="operator"> </span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator"> </span><span class="string">&#039;.xml&#039;</span><span class="operator">)</span><span class="operator"> </span><span class="operator">{</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="keyword">return</span><span class="operator"> </span><span class="operator">[</span><span class="operator">/</span><span class="operator">^</span><span class="operator">\</span><span class="variable">s</span><span class="operator">*</span><span class="operator">&lt;</span><span class="operator">!</span><span class="operator">-</span><span class="operator">-</span><span class="operator">[</span><span class="operator">\</span><span class="variable">s</span><span class="operator">\</span><span class="type">S</span><span class="operator">]</span><span class="operator">*</span><span class="operator">?</span><span class="operator">-</span><span class="operator">-</span><span class="operator">&gt;</span><span class="operator">/</span><span class="operator">,</span><span class="operator"> </span><span class="operator">/</span><span class="operator">&lt;</span><span class="operator">!</span><span class="operator">-</span><span class="operator">-</span><span class="operator">[</span><span class="operator">\</span><span class="variable">s</span><span class="operator">\</span><span class="type">S</span><span class="operator">]</span><span class="operator">*</span><span class="operator">?</span><span class="operator">-</span><span class="operator">-</span><span class="operator">&gt;</span><span class="operator">/</span><span class="operator">]</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator">}</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">return</span><span class="operator"> </span><span class="operator">[</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator">/</span><span class="operator">^</span><span class="operator">\</span><span class="variable">s</span><span class="operator">*</span><span class="operator">\</span><span class="operator">/</span><span class="operator">\</span><span class="operator">*</span><span class="operator">\</span><span class="operator">*</span><span class="operator">?</span><span class="operator">[</span><span class="operator">\</span><span class="variable">s</span><span class="operator">\</span><span class="type">S</span><span class="operator">]</span><span class="operator">*</span><span class="operator">?</span><span class="operator">\</span><span class="operator">*</span><span class="operator">\</span><span class="comment">,</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator">/</span><span class="operator">^</span><span class="operator">\</span><span class="variable">s</span><span class="operator">*</span><span class="operator">(</span><span class="operator">?</span><span class="operator">:</span><span class="operator">\</span><span class="operator">/</span><span class="operator">\</span><span class="operator">/</span><span class="operator">[</span><span class="operator">^</span><span class="operator">\</span><span class="variable">n</span><span class="operator">]</span><span class="operator">*</span><span class="operator">\</span><span class="variable">n</span><span class="operator">?</span><span class="operator">)</span><span class="operator">{</span><span class="number">1</span><span class="operator">,</span><span class="number">6</span><span class="operator">}</span><span class="operator">/</span><span class="operator">,</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator">/</span><span class="operator">^</span><span class="operator">\</span><span class="variable">s</span><span class="operator">*</span><span class="operator">(</span><span class="operator">?</span><span class="operator">:</span><span class="operator">#</span><span class="operator">[</span><span class="operator">^</span><span class="operator">\</span><span class="variable">n</span><span class="operator">]</span><span class="operator">*</span><span class="operator">\</span><span class="variable">n</span><span class="operator">?</span><span class="operator">)</span><span class="operator">{</span><span class="number">1</span><span class="operator">,</span><span class="number">6</span><span class="operator">}</span><span class="operator">/</span><span class="operator">,</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator">/</span><span class="operator">\</span><span class="operator">/</span><span class="operator">\</span><span class="operator">*</span><span class="operator">[</span><span class="operator">\</span><span class="variable">s</span><span class="operator">\</span><span class="type">S</span><span class="operator">]</span><span class="operator">*</span><span class="operator">?</span><span class="operator">\</span><span class="operator">*</span><span class="operator">\</span><span class="comment">,</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator">/</span><span class="operator">\</span><span class="operator">/</span><span class="operator">\</span><span class="operator">/</span><span class="operator">[</span><span class="operator">^</span><span class="operator">\</span><span class="variable">n</span><span class="operator">]</span><span class="operator">+</span><span class="operator">/</span><span class="operator">,</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator">/</span><span class="operator">#</span><span class="operator">[</span><span class="operator">^</span><span class="operator">\</span><span class="variable">n</span><span class="operator">]</span><span class="operator">+</span><span class="operator">/</span><span class="operator">,</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator">]</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator">}</span></div>
            <div class="code-line"></div>
            <div class="code-line"></div>
            <div class="code-line"><span class="comment">cleanComment</span></div>
            <div class="code-line">&nbsp;</div>
            <div class="code-line"><span class="comment">Purpose: Normalise raw comment text into synopsis-friendly prose. Behavior: - Strips</span></div>
            <div class="code-line"><span class="comment">comment delimiters, removes decorative borders, trims lines, and collapses whitespace.</span></div>
            <div class="code-line"><span class="comment">Parameters: - {string} raw: Comment text including delimiters. Returns: string</span></div>
            <div class="code-line"><span class="keyword">function</span><span class="operator"> </span><span class="function">cleanComment</span><span class="operator">(</span><span class="variable">raw</span><span class="operator">)</span><span class="operator"> </span><span class="operator">{</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">let</span><span class="operator"> </span><span class="variable">text</span><span class="operator"> </span><span class="operator">=</span><span class="operator"> </span><span class="variable">raw</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="comment">Remove block comment delimiters</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="variable">text</span><span class="operator"> </span><span class="operator">=</span><span class="operator"> </span><span class="variable">text</span><span class="operator">.</span><span class="function">replace</span><span class="operator">(</span><span class="operator">/</span><span class="operator">^</span><span class="operator">\</span><span class="operator">/</span><span class="operator">\</span><span class="operator">*</span><span class="operator">\</span><span class="operator">*</span><span class="operator">?</span><span class="operator">/</span><span class="operator">,</span><span class="operator"> </span><span class="string">&#039;&#039;</span><span class="operator">)</span><span class="operator">.</span><span class="function">replace</span><span class="operator">(</span><span class="operator">/</span><span class="operator">\</span><span class="operator">*</span><span class="operator">\</span><span class="operator">/</span><span class="operator">$</span><span class="operator">/</span><span class="operator">,</span><span class="operator"> </span><span class="string">&#039;&#039;</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="variable">text</span><span class="operator"> </span><span class="operator">=</span><span class="operator"> </span><span class="variable">text</span><span class="operator">.</span><span class="function">replace</span><span class="operator">(</span><span class="operator">/</span><span class="operator">^</span><span class="operator">&lt;</span><span class="operator">!</span><span class="operator">-</span><span class="operator">-</span><span class="operator">/</span><span class="operator">,</span><span class="operator"> </span><span class="string">&#039;&#039;</span><span class="operator">)</span><span class="operator">.</span><span class="function">replace</span><span class="operator">(</span><span class="operator">/</span><span class="operator">-</span><span class="operator">-</span><span class="operator">&gt;</span><span class="operator">$</span><span class="operator">/</span><span class="operator">,</span><span class="operator"> </span><span class="string">&#039;&#039;</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="variable">text</span><span class="operator"> </span><span class="operator">=</span><span class="operator"> </span><span class="variable">text</span><span class="operator">.</span><span class="function">replace</span><span class="operator">(</span><span class="operator">/</span><span class="operator">^</span><span class="operator">[</span><span class="string">&#039;&quot;]{3}/, &#039;</span><span class="string">&#039;).replace(/[&#039;</span><span class="string">&quot;]{3}$/, &#039;&#039;);</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator">/</span><span class="operator">/</span><span class="operator"> </span><span class="type">Remove</span><span class="operator"> </span><span class="variable">line</span><span class="operator"> </span><span class="variable">comment</span><span class="operator"> </span><span class="variable">prefixes</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="variable">text</span><span class="operator"> </span><span class="operator">=</span><span class="operator"> </span><span class="variable">text</span><span class="operator">.</span><span class="function">replace</span><span class="operator">(</span><span class="operator">/</span><span class="operator">^</span><span class="operator">\</span><span class="variable">s</span><span class="operator">*</span><span class="operator">\</span><span class="operator">/</span><span class="operator">\</span><span class="operator">/</span><span class="operator"> </span><span class="operator">?</span><span class="operator">/</span><span class="variable">gm</span><span class="operator">,</span><span class="operator"> </span><span class="operator">&#039;</span><span class="operator">&#039;</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="variable">text</span><span class="operator"> </span><span class="operator">=</span><span class="operator"> </span><span class="variable">text</span><span class="operator">.</span><span class="function">replace</span><span class="operator">(</span><span class="operator">/</span><span class="operator">^</span><span class="operator">\</span><span class="variable">s</span><span class="operator">*</span><span class="operator">#</span><span class="operator"> </span><span class="operator">?</span><span class="operator">/</span><span class="variable">gm</span><span class="operator">,</span><span class="operator"> </span><span class="operator">&#039;</span><span class="operator">&#039;</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="variable">text</span><span class="operator"> </span><span class="operator">=</span><span class="operator"> </span><span class="variable">text</span><span class="operator">.</span><span class="function">replace</span><span class="operator">(</span><span class="operator">/</span><span class="operator">^</span><span class="operator">\</span><span class="variable">s</span><span class="operator">*</span><span class="operator">\</span><span class="operator">*</span><span class="operator"> </span><span class="operator">?</span><span class="operator">/</span><span class="variable">gm</span><span class="operator">,</span><span class="operator"> </span><span class="operator">&#039;</span><span class="operator">&#039;</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator">/</span><span class="operator">/</span><span class="operator"> </span><span class="type">Process</span><span class="operator"> </span><span class="variable">each</span><span class="operator"> </span><span class="variable">line</span><span class="operator"> </span><span class="variable">to</span><span class="operator"> </span><span class="variable">remove</span><span class="operator"> </span><span class="variable">decoration</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">const</span><span class="operator"> </span><span class="variable">lines</span><span class="operator"> </span><span class="operator">=</span><span class="operator"> </span><span class="variable">text</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator">.</span><span class="function">split</span><span class="operator">(</span><span class="operator">/</span><span class="operator">\</span><span class="variable">r</span><span class="operator">?</span><span class="operator">\</span><span class="variable">n</span><span class="operator">/</span><span class="operator">)</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator">.</span><span class="function">map</span><span class="operator">(</span><span class="operator">(</span><span class="variable">line</span><span class="operator">)</span><span class="operator"> </span><span class="operator">=</span><span class="operator">&gt;</span><span class="operator"> </span><span class="variable">line</span><span class="operator">.</span><span class="function">trim</span><span class="operator">(</span><span class="operator">)</span><span class="operator">)</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator">.</span><span class="function">map</span><span class="operator">(</span><span class="operator">(</span><span class="variable">line</span><span class="operator">)</span><span class="operator"> </span><span class="operator">=</span><span class="operator">&gt;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="variable">line</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator">.</span><span class="function">replace</span><span class="operator">(</span><span class="operator">/</span><span class="operator">^</span><span class="operator">[</span><span class="operator">=</span><span class="operator">\</span><span class="operator">-</span><span class="variable">_</span><span class="operator">*</span><span class="operator">#</span><span class="operator">~</span><span class="operator">]</span><span class="operator">{</span><span class="number">3</span><span class="operator">,</span><span class="operator">}</span><span class="operator">/</span><span class="operator">,</span><span class="operator"> </span><span class="operator">&#039;</span><span class="operator">&#039;</span><span class="operator">)</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator">.</span><span class="function">replace</span><span class="operator">(</span><span class="operator">/</span><span class="operator">[</span><span class="operator">=</span><span class="operator">\</span><span class="operator">-</span><span class="variable">_</span><span class="operator">*</span><span class="operator">#</span><span class="operator">~</span><span class="operator">]</span><span class="operator">{</span><span class="number">3</span><span class="operator">,</span><span class="operator">}</span><span class="operator">$</span><span class="operator">/</span><span class="operator">,</span><span class="operator"> </span><span class="operator">&#039;</span><span class="operator">&#039;</span><span class="operator">)</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator">.</span><span class="function">trim</span><span class="operator">(</span><span class="operator">)</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator">/</span><span class="operator">/</span><span class="operator"> </span><span class="type">Filter</span><span class="operator"> </span><span class="variable">out</span><span class="operator"> </span><span class="variable">empty</span><span class="operator"> </span><span class="variable">lines</span><span class="operator"> </span><span class="variable">and</span><span class="operator"> </span><span class="variable">pure</span><span class="operator"> </span><span class="variable">decoration</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">const</span><span class="operator"> </span><span class="variable">filtered</span><span class="operator"> </span><span class="operator">=</span><span class="operator"> </span><span class="variable">lines</span><span class="operator">.</span><span class="function">filter</span><span class="operator">(</span><span class="operator">(</span><span class="variable">line</span><span class="operator">)</span><span class="operator"> </span><span class="operator">=</span><span class="operator">&gt;</span><span class="operator"> </span><span class="operator">{</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="keyword">if</span><span class="operator"> </span><span class="operator">(</span><span class="variable">line</span><span class="operator">.</span><span class="variable">length</span><span class="operator"> </span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator"> </span><span class="number">0</span><span class="operator">)</span><span class="operator"> </span><span class="operator">{</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="keyword">return</span><span class="operator"> </span><span class="keyword">false</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator">}</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="keyword">if</span><span class="operator"> </span><span class="operator">(</span><span class="operator">/</span><span class="operator">^</span><span class="operator">(</span><span class="operator">[</span><span class="operator">=</span><span class="operator">\</span><span class="operator">-</span><span class="variable">_</span><span class="operator">*</span><span class="operator">#</span><span class="operator">~</span><span class="operator">]</span><span class="operator">{</span><span class="number">3</span><span class="operator">,</span><span class="operator">}</span><span class="operator">)</span><span class="operator">$</span><span class="operator">/</span><span class="operator">.</span><span class="function">test</span><span class="operator">(</span><span class="variable">line</span><span class="operator">)</span><span class="operator">)</span><span class="operator"> </span><span class="operator">{</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="keyword">return</span><span class="operator"> </span><span class="keyword">false</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator">}</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="operator"> </span><span class="keyword">return</span><span class="operator"> </span><span class="keyword">true</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator">}</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="operator">/</span><span class="operator">/</span><span class="operator"> </span><span class="type">Join</span><span class="operator"> </span><span class="variable">lines</span><span class="operator"> </span><span class="variable">and</span><span class="operator"> </span><span class="variable">normalize</span><span class="operator"> </span><span class="variable">whitespace</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="keyword">return</span><span class="operator"> </span><span class="variable">filtered</span><span class="operator">.</span><span class="function">join</span><span class="operator">(</span><span class="operator">&#039;</span><span class="operator"> </span><span class="operator">&#039;</span><span class="operator">)</span><span class="operator">.</span><span class="function">replace</span><span class="operator">(</span><span class="operator">/</span><span class="operator">\</span><span class="variable">s</span><span class="operator">+</span><span class="operator">/</span><span class="variable">g</span><span class="operator">,</span><span class="operator"> </span><span class="operator">&#039;</span><span class="operator"> </span><span class="operator">&#039;</span><span class="operator">)</span><span class="operator">.</span><span class="function">trim</span><span class="operator">(</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator">}</span></div>
            <div class="code-line"></div>
            <div class="code-line"><span class="operator">/</span><span class="operator">/</span><span class="operator"> </span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span></div>
            <div class="code-line"><span class="operator">/</span><span class="operator">/</span><span class="operator"> </span><span class="type">SECTION</span><span class="operator"> </span><span class="number">14</span><span class="operator">:</span><span class="operator"> </span><span class="type">SCRIPT</span><span class="operator"> </span><span class="type">EXECUTION</span></div>
            <div class="code-line"><span class="operator">/</span><span class="operator">/</span><span class="operator"> </span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span></div>
            <div class="code-line"></div>
            <div class="code-line"><span class="operator">/</span><span class="operator">/</span><span class="operator"> </span><span class="type">Execute</span><span class="operator"> </span><span class="variable">main</span><span class="operator"> </span><span class="keyword">function</span><span class="operator"> </span><span class="variable">and</span><span class="operator"> </span><span class="variable">handle</span><span class="operator"> </span><span class="variable">any</span><span class="operator"> </span><span class="variable">errors</span></div>
            <div class="code-line"><span class="operator">/</span><span class="operator">/</span><span class="operator"> </span><span class="type">Errors</span><span class="operator"> </span><span class="variable">are</span><span class="operator"> </span><span class="variable">logged</span><span class="operator"> </span><span class="variable">and</span><span class="operator"> </span><span class="variable">cause</span><span class="operator"> </span><span class="variable">process</span><span class="operator"> </span><span class="variable">exit</span><span class="operator"> </span><span class="variable">with</span><span class="operator"> </span><span class="variable">code</span><span class="operator"> </span><span class="number">1</span></div>
            <div class="code-line"><span class="function">main</span><span class="operator">(</span><span class="operator">)</span><span class="operator">.</span><span class="keyword">catch</span><span class="operator">(</span><span class="operator">(</span><span class="variable">error</span><span class="operator">)</span><span class="operator"> </span><span class="operator">=</span><span class="operator">&gt;</span><span class="operator"> </span><span class="operator">{</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="variable">console</span><span class="operator">.</span><span class="function">error</span><span class="operator">(</span><span class="operator">&#039;</span><span class="type">Feature</span><span class="operator"> </span><span class="variable">synopsis</span><span class="operator"> </span><span class="variable">extraction</span><span class="operator"> </span><span class="variable">failed</span><span class="operator">:</span><span class="operator">&#039;</span><span class="operator">,</span><span class="operator"> </span><span class="variable">error</span><span class="operator">.</span><span class="variable">message</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator"> </span><span class="operator"> </span><span class="variable">process</span><span class="operator">.</span><span class="function">exit</span><span class="operator">(</span><span class="number">1</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"><span class="operator">}</span><span class="operator">)</span><span class="operator">;</span></div>
            <div class="code-line"></div>
        </div>
    </div>
</body>
</html>